{"version":3,"sources":["main.js"],"names":["latRes","lngRes","myMap","marker","FORM","document","querySelector","API_KEY_GEOLOCATION","ip","ipGeolocationApi","concat","urlGeo","ipRes","cityRes","uniCodeRes","postalCodeRes","timezoneRes","ispRes","showLocation","setView","L","addTo","tileLayer","maxZoom","id","tileSize","zoomOffset","accessToken","_icon","src","style","width","height","marginLeft","marginTop","getGeolocation","fetch","then","res","json","innerHTML","location","city","country","postalCode","timezone","isp","lat","lng","error","console","log","window","addEventListener","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","map","e","preventDefault","value"],"mappings":"aACA,IAaAA,OAAAC,OAAAC,MAAAC,OAbAC,KAAAC,SAAAC,cAAA,SACAC,oBAAA,mCAGAC,GAAAH,SAAAC,cAAA,YACAG,iBAAA,oDAAAC,OAAAH,oBAAA,eACAI,OAAAF,iBACAG,MAAAP,SAAAC,cAAA,UACAO,QAAAR,SAAAC,cAAA,YACAQ,WAAAT,SAAAC,cAAA,UACAS,cAAAV,SAAAC,cAAA,kBACAU,YAAAX,SAAAC,cAAA,gBACAW,OAAAZ,SAAAC,cAAA,WAGA,SAAAY,eAEAhB,MAAAiB,QAAA,CAAAnB,OAAAC,QAAA,IACAE,OAAAiB,EAAAjB,OAAA,CAAAH,OAAAC,SAAAoB,MAAAnB,OAEAkB,EAAAE,UAAA,qFAAA,CACAC,QAAA,GACAC,GAAA,oBACAC,SAAA,IACAC,YAAA,EACAC,YAAA,sGACAN,MAAAnB,OAGAC,OAAAyB,MAAAC,IAAA,mCACA1B,OAAAyB,MAAAE,MAAAC,MAAA,OACA5B,OAAAyB,MAAAE,MAAAE,OAAA,OACA7B,OAAAyB,MAAAE,MAAAG,WAAA,UACA9B,OAAAyB,MAAAE,MAAAI,UAAA,WAIA,IAAAC,eAAA,WAEAC,MAAAzB,QACA0B,KAAA,SAAAC,GAAA,OAAAA,EAAAC,SACAF,KAAA,SAAAC,GACA1B,MAAA4B,UAAAF,EAAA9B,GACAK,QAAA2B,UAAAF,EAAAG,SAAAC,KACA5B,WAAA0B,UAAAF,EAAAG,SAAAE,QACA5B,cAAAyB,UAAAF,EAAAG,SAAAG,WACA5B,YAAAwB,UAAA,MAAAF,EAAAG,SAAAI,SACA5B,OAAAuB,UAAAF,EAAAQ,IACA9C,OAAAsC,EAAAG,SAAAM,IACA9C,OAAAqC,EAAAG,SAAAO,IACA9B,iBAXA,MAaA,SAAA+B,GAAA,OAAAC,QAAAC,IAAAF,MAIAG,OAAAC,iBAAA,OAAA,WAaAC,UAAAC,YAAAC,mBAXA,SAAAC,GACAzD,OAAAyD,EAAAC,OAAAC,SACA1D,OAAAwD,EAAAC,OAAAE,UACA1D,MAAAkB,EAAAyC,IAAA,OAAA1C,QAAA,CAAAnB,OAAAC,QAAA,IACAiB,gBAGA,SAAA+B,GACAC,QAAAC,IAAAF,OAOA7C,KAAAiD,iBAAA,SAAA,SAAAS,GAEAA,EAAAC,iBACApD,OAAAF,iBAAAD,GAAAwD,MACA7B","file":"main.min.js","sourcesContent":["// Const\r\nconst FORM = document.querySelector('#form');\r\nconst API_KEY_GEOLOCATION = 'at_8fVFRgj29d0wZYsQ5lGFy650uDD8w';\r\n\r\n// Let\r\nlet ip = document.querySelector('#ipInput');\r\nlet ipGeolocationApi = `https://geo.ipify.org/api/v2/country,city?apiKey=${API_KEY_GEOLOCATION}&ipAddress=`;\r\nlet urlGeo = ipGeolocationApi;\r\nlet ipRes = document.querySelector('#ipRes');\r\nlet cityRes = document.querySelector('#cityRes');\r\nlet uniCodeRes = document.querySelector('#UCRes');\r\nlet postalCodeRes = document.querySelector('#postalCodeRes');\r\nlet timezoneRes = document.querySelector('#timezoneRes');\r\nlet ispRes = document.querySelector('#ispRes');\r\nlet latRes, lngRes, myMap, marker;\r\n\r\nfunction showLocation() {\r\n\r\n    myMap.setView([latRes,lngRes], 14);\r\n    marker = L.marker([latRes, lngRes]).addTo(myMap);\r\n\r\n    L.tileLayer(`https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}`, {\r\n        maxZoom: 18,\r\n        id: 'mapbox/streets-v9',\r\n        tileSize: 512,\r\n        zoomOffset: -1,\r\n        accessToken: 'pk.eyJ1Ijoic2ltb25lbWFuZG9sYSIsImEiOiJja3djYTY3cmkzc3dtMzByb2NnaXFqdGd3In0.LkO9Y9a2d2o50nNLp476eQ'\r\n    }).addTo(myMap);\r\n\r\n    // Change marker icon and style\r\n    marker._icon.src = './fonts/icons/uEA02-location.svg';\r\n    marker._icon.style.width = '3rem';\r\n    marker._icon.style.height = 'auto';\r\n    marker._icon.style.marginLeft = '-1.5rem';\r\n    marker._icon.style.marginTop = '-3.06rem';\r\n}\r\n\r\n// Get Geolocation on Submit\r\nconst getGeolocation = ()=> {\r\n\r\n    fetch(urlGeo)\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            ipRes.innerHTML = res.ip;\r\n            cityRes.innerHTML = res.location.city;\r\n            uniCodeRes.innerHTML = res.location.country;\r\n            postalCodeRes.innerHTML = res.location.postalCode;\r\n            timezoneRes.innerHTML = 'UTC' + res.location.timezone;\r\n            ispRes.innerHTML = res.isp;\r\n            latRes = res.location.lat;\r\n            lngRes = res.location.lng;\r\n            showLocation();\r\n        })\r\n        .catch(error => console.log(error));\r\n}\r\n\r\n// Get Geolocation On load\r\nwindow.addEventListener('load', ()=>{\r\n\r\n    function getUserPos(position) {\r\n        latRes = position.coords.latitude;\r\n        lngRes = position.coords.longitude;\r\n        myMap = L.map('map').setView([latRes,lngRes], 14);\r\n        showLocation();\r\n    }\r\n\r\n    function errorUserPos(error) {\r\n        console.log(error);\r\n    }\r\n\r\n    navigator.geolocation.getCurrentPosition(getUserPos, errorUserPos);\r\n});\r\n\r\n\r\nFORM.addEventListener('submit',(e)=>{\r\n\r\n    e.preventDefault();\r\n    urlGeo = ipGeolocationApi + ip.value;\r\n    getGeolocation();\r\n});"]}